<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <link rel="stylesheet" href="index.css">
  <!-- JS, Popper.js, and jQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
    integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous">
  </script>
  <link rel="shortcut icon" href="https://image.flaticon.com/icons/png/512/2906/2906797.png" type="image/png">
  <title>Отель Атланта - Бронирование</title>
  <script src="js/data.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script type="text/javascript">

$(document).ready(function () {
  
});

function show1(){
    $(`#registr`).show();
    $(`#reg`).hide();
    $(`#enter`).hide();
    $(`#enter2`).show();
}

function show2(){
    $(`#enter`).show();
    $(`#enter2`).hide();
    $(`#registr`).hide();
    $(`#reg`).show();

}

function login(){
    let phone = $(`#inputPhone1`).val();
    for(let i=0;i<users.length;i++)
    {
        if(users[i].phone==parseInt(phone))
        {
            localStorage.setItem("user",JSON.stringify(users[i]));
        }
    }
}
function CheackAll() {
      $(`input`).removeClass('error');
      $(`#errors`).text('');
      var check1 = CheckName();
      var check2 = CheckPhone();
      var check3 = CheckEmail();
      var check4 = CheckAddress();
      if(check1==1&&check2==1&&check3==1&&check4==1)
        return 1;
      else
        return 0;
    }
     
    function CheckName() {
      if ($('#inputName').val().length > 0)
        return 1;
      else {
        $(`#inputName`).addClass(`error`);
        $(`#errors`).html($(`#errors`).html() + `Имя не заполненно<br/>`);
      }
    }

    function CheckAddress() {
      if ($('#inputAddress').val().length > 0)
        return 1;
      else {
        $(`#inputAddress`).addClass(`error`);
        $(`#errors`).html($(`#errors`).html() + `Адрес  не заполнен<br/>`);
      }
    }

    function CheckPhone() {
      //проверка, что все цифры
      var num = $(`#inputPhone`).val();
      if ($('#inputPhone').val().length == 10 && num.match(/^\d+/))
        return 1;
      else {
        $(`#inputPhone`).addClass(`error`);
        $(`#errors`).html($(`#errors`).html() + `Формат телефона не верен<br/>`);
    }
    }
    function CheckEmail() {
      if ($(`#exampleInputEmail1`).val().length > 0)
        if ($(`#exampleInputEmail1`).val().indexOf('@') > 0) {
          return 1;
        }
      else {
        $(`#exampleInputEmail1`).addClass(`error`);
        $(`#errors`).html($(`#errors`).html() + `Не верен формат электронной почты<br/>`);
      } else {
        $(`#exampleInputEmail1`).addClass(`error`);
        $(`#errors`).html($(`#errors`).html() + `Электронная почта не заполнена<br/>`);
      }
    }
    function CheckPassword() {
      if ($('#inputPassword').val().length > 0 && $('#inputPassword2').val().length > 0)
        if($('#inputPassword').val() == $('#inputPassword2').val())
          return 1;
        else 
        {
          $(`#inputPassword`).addClass(`error`);
          $(`#inputPassword2`).addClass(`error`);
          $(`#errors`).html($(`#errors`).html() + `Пароли не одинаковые<br/>`);
        }
      else {
        $(`#inputPassword`).addClass(`error`);
        $(`#inputPassword2`).addClass(`error`);
        $(`#errors`).html($(`#errors`).html() + `Пароли не заполненны<br/>`);
      }
    }

  function CheackAllTwo(){
    //CheckNum();
     
     if(CheckPassword2()==1)
        return 1;
      else
        return 0;
  }
  function  CheckPassword2(){
    if ($('#inputPassword1').val().length > 0)
        return 1;
      else {
        $(`#inputPassword1`).addClass(`error`);
        $(`#errors`).html($(`#errors`).html() + `Пароль не заполнен<br/>`);
      }
  }
  function reg(){
    if (CheackAll()==1)
      {
        window.location.href = "index.html";
      };
  }
  function login1(){
    if (CheackAllTwo()==1)
      {
        login();
        setTimeout(console.log('login'), 1000)
        window.location.href = "index.html";
      };
  }
  </script>
</head>
<body>
    <div id="menu"><nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="index.html"><img src="logo.png" style="height: 64px;"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li>
              <a class="nav-link" href="index.html">Главная<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="room.html">Номера</a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Ресторан
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="breakfast.html">Завтраки</a>
                  <a class="dropdown-item" href="foodDay.html">Меню дня</a>
                </div>
              </li>
            <li class="nav-item ">
                <a class="nav-link" href="review.html">Отзывы</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="BookingList.html">Мои бронирования</a>
              </li>
          </ul>
        </div>
      </nav></div>
<div id="conteiner"   class="center">

<div class="center_child">
<div class="text">Регестраиця</div>
<div id="reg"><button type="button" class="btn btn-warning"onclick="show1()">Зарегестрироваться</button></div>
<div style="display: none;" id="registr">
    <form>
        <div class="form-group">
          <label for="exampleInputEmail1">Почта</label>
          <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
            placeholder="nin56@mail">
          <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
        </div>
        <div class="form-group">
          <label for="inputAddress">Адрес</label>
          <input type="text" class="form-control" id="inputAddress" placeholder="Ленинская 67">
        </div>
        <div class="form-group">
          <label for="inputName">Имя</label>
          <input type="text" class="form-control" id="inputName" placeholder="Иванов Иван Иванович">
        </div>
        <div class="form-group">
          <label for="inputPhone">Телефон</label>
          <input type="text" class="form-control" id="inputPhone" placeholder="79999999999">
        </div>
        <div class="form-group">
          <label for="inpuеDate">Дата рождения</label>
          <input type="date" class="form-control" id="inputDate" placeholder="09.26.1998">
        </div>
        <div class="form-group">
            <label for="inputPassword">Пароль</label>
            <input type="password" class="form-control" id="inputPassword" placeholder="aahol">
          </div>
          <div class="form-group">
            <label for="inputPassword2">Повтарите пароль</label>
            <input type="password" class="form-control" id="inputPassword2" placeholder="aahol">
          </div>
        <div id="errors" style="color: red;
  font-size: 12px;"></div>
  <div><button type="button" class="btn btn-warning" onclick="reg()">Зарегестрироваться</button></div>
        </form>
</div>
</div>

<div class="center_child">
    <div class="text">Уже зарегестрированы</div>
    <div id="enter2"><button type="button" class="btn btn-warning"onclick="show2()">Войти</button></div>
    <div style="display: none;" id="enter">
        <form>
            <div class="form-group">
              <label for="inputPhone1">Телефон или почта</label>
              <input type="text" class="form-control" id="inputPhone1" placeholder="79999999999">
            </div>
            <div class="form-group">
                <label for="inputPassword1">Пароль</label>
                <input type="password" class="form-control" id="inputPassword1" placeholder="aahol">
              </div>
            <div id="errors" style="color: red;
      font-size: 12px;"></div>
        <div><button type="button" class="btn btn-warning" onclick="login1()">Войти</button></div>
            </form>
    </div>
    </div>


</div>

</body>
</html>